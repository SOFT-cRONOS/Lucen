let lucenUI=(()=>{let o;return{init:function(){this.initSidebar(),this.initTooltips(),this.initTabs(),this.initModals(),this.initDropdownArrows(),this.initCollapsibles(),this.initDropdowns(),this.initSelects(),this.initTablePagination(),this.initCommandBars(),this.initContextualMenu(),this.setupEventListeners(),this.applySavedTheme(),this.watchSystemPreference(),this.initSliders()},initSidebar:function(){let a=document.getElementById("sidebarCollapse");if(a){let t=document.getElementById("sidebar"),n=document.querySelector(".lucen-main");a.addEventListener("click",()=>{t&&t.classList.toggle("collapsed"),n&&n.classList.toggle("sidebar-collapsed");var e=a.querySelector("i");e&&(e.classList.toggle("bi-chevron-double-left"),e.classList.toggle("bi-chevron-double-right"))})}let o=document.getElementById("widgetbarCollapse");if(o){let t=document.getElementById("widgetbar"),n=document.querySelector(".lucen-main");o.addEventListener("click",()=>{t&&t.classList.toggle("collapsed"),n&&n.classList.toggle("widgetbar-collapsed");var e=o.querySelector("i");e&&(e.classList.toggle("bi-chevron-double-left"),e.classList.toggle("bi-chevron-double-right"))})}},initCollapsibles:function(){document.querySelectorAll(".lucen-nav-item > .lucen-nav-link").forEach(o=>{var e=o.getAttribute("href");if(e&&e.startsWith("#")&&1<e.length){let n=document.querySelector(e),a=o.querySelector(".lucen-nav-arrow");n&&(n.style.height="0px",n.style.overflow="hidden",n.style.transition="height 0.3s ease",o.addEventListener("click",function(e){e.preventDefault();var e=n.classList.contains("show"),t=this.closest(".lucen-nav");t&&t.querySelectorAll(".lucen-nav-submenu").forEach(e=>{e!==n&&(e.classList.remove("show"),e.style.height="0px",e=e.previousElementSibling?.querySelector(".lucen-nav-arrow"))&&e.classList.remove("rotate")}),e?(n.style.height=n.scrollHeight+"px",requestAnimationFrame(()=>{n.style.height="0px"}),n.classList.remove("show"),a&&a.classList.remove("rotate"),o.setAttribute("aria-expanded","false")):(n.classList.add("show"),t=Array.from(n.children).reduce((e,t)=>{var n=window.getComputedStyle(t),a=parseInt(n.marginTop)||0,n=parseInt(n.marginBottom)||0;return e+t.offsetHeight+a+n},0),n.style.height=t+"px",a&&a.classList.add("rotate"),o.setAttribute("aria-expanded","true"))}))}})},initDropdowns:function(){document.querySelectorAll(".lucen-menubar-item").forEach(t=>{t.removeAttribute("onclick"),t.addEventListener("click",e=>{e.target.closest(".lucen-menubar-dropdown-item")||e.target.classList.contains("lucen-menubar-arrow")||this.toggleDropdown(t)});var e=t.querySelector(".lucen-menubar-arrow");e&&e.addEventListener("click",e=>{e.stopPropagation(),this.toggleDropdown(t)})}),document.addEventListener("click",e=>{e.target.closest(".lucen-menubar-item")||this.closeAllDropdowns()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.closeAllDropdowns()})},toggleDropdown:function(e){this.closeAllDropdowns(e),e.classList.toggle("active");var t=e.querySelector(".lucen-menubar-dropdown"),t=(t&&t.classList.toggle("show"),"up"===e.dataset.drop?t.classList.add("dropup"):t.classList.remove("dropup"),e.querySelector(".lucen-menubar-arrow"));t&&t.classList.toggle("rotate")},closeAllDropdowns:function(n){document.querySelectorAll(".lucen-menubar-item").forEach(e=>{var t;n&&e===n||(e.classList.remove("active"),(t=e.querySelector(".lucen-menubar-dropdown"))&&(t.classList.remove("show"),t.classList.remove("dropup")),(t=e.querySelector(".lucen-menubar-arrow"))&&t.classList.remove("rotate"))})},initContextualMenu:function(){let t=document.querySelector(".lucen-contextmenu");t&&(document.addEventListener("contextmenu",e=>{e.preventDefault(),document.querySelectorAll(".lucen-contextmenu.show").forEach(e=>{e.classList.remove("show")}),t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",t.classList.add("show")}),document.addEventListener("click",()=>{t.classList.remove("show")}),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.remove("show")}))},initSelects:function(){var e=document.querySelectorAll(".lucen-select");0===e.length?console.warn("No se encontraron elementos .lucen-select"):(e.forEach(a=>{var e=a.querySelector(".lucen-select-trigger"),t=a.querySelector(".lucen-select-dropdown");let o=a.querySelector(".lucen-select-selected");var n=a.querySelectorAll(".lucen-select-option");e&&t&&o&&0!==n.length?(e.addEventListener("click",e=>{e.stopPropagation(),document.querySelectorAll(".lucen-select").forEach(e=>{e!==a&&e.classList.remove("active")}),a.classList.toggle("active")}),n.forEach(n=>{n.addEventListener("click",()=>{var e=n.getAttribute("data-value"),t=n.querySelector("span")?.textContent||"";o.textContent=t,a.classList.remove("active"),a.dispatchEvent(new CustomEvent("change",{detail:{value:e,text:t}}))})})):console.warn("Elementos incompletos en un .lucen-select",a)}),document.addEventListener("click",()=>{document.querySelectorAll(".lucen-select").forEach(e=>{e.classList.remove("active")})}),document.addEventListener("keydown",e=>{"Escape"===e.key&&document.querySelectorAll(".lucen-select").forEach(e=>{e.classList.remove("active")})}))},initTooltips:function(){document.querySelectorAll("[data-lucen-tooltip]").forEach(e=>{var t=e.getAttribute("data-lucen-tooltip");let n=e.getAttribute("data-lucen-placement")||"top",a=document.createElement("div");a.className="lucen-tooltip",a.textContent=t;t=document.createElement("div");t.className="lucen-tooltip-container",t.setAttribute("data-lucen-placement",n),t.style.position="relative",t.style.display="inline-block",t.appendChild(a),e.parentNode.insertBefore(t,e),t.appendChild(e),a.classList.remove("show"),e.addEventListener("mouseenter",()=>{switch(a.style.top="",a.style.bottom="",a.style.left="",a.style.right="",a.style.marginTop="",a.style.marginBottom="",a.style.marginLeft="",a.style.marginRight="",n){case"top":a.style.bottom="100%",a.style.left="50%",a.style.transform="translateX(-50%)",a.style.marginBottom="8px";break;case"bottom":a.style.top="100%",a.style.left="50%",a.style.transform="translateX(-50%)",a.style.marginTop="8px";break;case"left":a.style.top="50%",a.style.right="100%",a.style.transform="translateY(-50%)",a.style.marginRight="8px";break;case"right":a.style.top="50%",a.style.left="100%",a.style.transform="translateY(-50%)",a.style.marginLeft="8px"}a.classList.add("show")}),e.addEventListener("mouseleave",()=>{a.classList.remove("show")})})},initTabs:function(){document.querySelectorAll(".lucen-tabs-btn").forEach(e=>{e.addEventListener("click",function(){var e=this.getAttribute("data-tab"),t=this.closest(".lucen-tabs");t.querySelectorAll(".lucen-tabs-btn").forEach(e=>{e.classList.remove("active")}),this.classList.add("active"),t.querySelectorAll(".lucen-tabs-pane").forEach(e=>{e.classList.remove("active")}),document.getElementById(e).classList.add("active")})})},initModals:function(){document.querySelectorAll(".lucen-modal").forEach(t=>{t.addEventListener("click",function(e){"static"!==t.getAttribute("data-bs-backdrop")&&e.target===t&&lucenUI.hideModal("#"+t.id)})}),document.addEventListener("keydown",e=>{"Escape"===e.key&&(e=document.querySelector(".lucen-modal.show"))&&"false"!==e.getAttribute("data-bs-keyboard")&&lucenUI.hideModal("#"+e.id)}),document.querySelectorAll('[data-bs-toggle="modal"]').forEach(e=>{e.addEventListener("click",function(){var e=this.getAttribute("data-bs-target");lucenUI.showModal(e)})}),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(e=>{e.addEventListener("click",function(){var e=this.closest(".lucen-modal");e&&lucenUI.hideModal("#"+e.id)})})},showModal:function(e){let t=document.querySelector(e);t&&(document.querySelectorAll(".lucen-modal.show").forEach(e=>{e.classList.remove("show")}),t.classList.add("show"),t.style.display="flex",document.body.style.overflow="hidden",t.removeAttribute("aria-hidden"),setTimeout(()=>{var e=t.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');e&&e.focus()},100))},hideModal:function(e){var t=document.querySelector(e);t&&(t.classList.remove("show"),document.body.style.overflow="",t.style.display="none",t.setAttribute("aria-hidden","true"),t=document.querySelector(`[data-bs-target="${e}"], [onclick*="${e}"]`))&&t.focus()},showToast:function(e,t=""){var n=document.querySelector(".lucen-toast");n&&n.remove();let a=document.createElement("div");a.className="lucen-toast","success"===t?(a.classList.add("lucen-toast-success"),a.innerHTML=`<i class="bi bi-check-circle"></i><span>${e}</span>`):"error"===t?(a.classList.add("lucen-toast-error"),a.innerHTML=`<i class="bi bi-x-circle"></i><span>${e}</span>`):a.innerHTML=`<i class="bi bi-info-circle"></i><span>${e}</span>`,document.body.appendChild(a),setTimeout(()=>{a.classList.add("show")},10),clearTimeout(o),o=setTimeout(()=>{a.classList.remove("show"),setTimeout(()=>{a.remove()},300)},5e3)},initDropdownArrows:function(){document.querySelectorAll(".dropdown-toggle").forEach(e=>{e.addEventListener("click",function(){var e=this.querySelector(".lucen-nav-arrow");e&&e.classList.toggle("rotate")})})},initCommandBars:function(){document.querySelectorAll(".commandbar-horizontal .lucen-btn, .commandbar-vertical .lucen-btn").forEach(e=>{e.addEventListener("touchstart",function(){this.classList.add("active")}),e.addEventListener("touchend",function(){this.classList.remove("active")})}),document.querySelectorAll(".commandbar-compact .lucen-btn").forEach(e=>{var t;e.hasAttribute("data-lucen-tooltip")||(t=e.querySelector("span"))&&e.setAttribute("data-lucen-tooltip",t.textContent)})},initTablePagination:function(){document.querySelectorAll("[data-lucen-pagination]").forEach(e=>{var t=e.getAttribute("data-lucen-pagination"),t=document.getElementById(t);t&&(e={rowsPerPage:parseInt(e.getAttribute("data-rows-per-page"))||5,maxVisiblePages:parseInt(e.getAttribute("data-max-pages"))||5,showInfo:"false"!==e.getAttribute("data-show-info"),showPrevNext:"false"!==e.getAttribute("data-show-prev-next"),numeric:"true"===e.getAttribute("data-numeric")},this.createPagination(t,e))})},createPagination:function(e,s){var t=e.querySelector("tbody");let a=Array.from(t.querySelectorAll("tr")),i=Math.ceil(a.length/s.rowsPerPage),c=e.parentNode.querySelector(".lucen-pagination"),r=(c||((c=document.createElement("div")).className="lucen-pagination",e.parentNode.appendChild(c)),1),d=e=>{var t=(e-1)*s.rowsPerPage,n=t+s.rowsPerPage;a.forEach(e=>e.style.display="none"),a.slice(t,n).forEach(e=>e.style.display=""),r=e,o()},o=()=>{if(c.innerHTML="",s.showPrevNext&&((e=document.createElement("button")).className="lucen-btn lucen-btn-icon",e.innerHTML='<i class="bi bi-chevron-left"></i>',e.disabled=1===r,e.addEventListener("click",()=>{1<r&&d(r-1)}),c.appendChild(e)),s.showInfo&&!s.numeric&&((e=document.createElement("span")).className="lucen-pagination-info",e.textContent=`Página ${r} de `+i,c.appendChild(e)),s.numeric){var a=document.createElement("div"),e=(a.className="page-numbers",Math.floor(s.maxVisiblePages/2)),o=Math.ceil(s.maxVisiblePages/2)-1;let t=1,n=i;i>s.maxVisiblePages&&(r<=e?n=s.maxVisiblePages:r+o>=i?t=i-s.maxVisiblePages+1:(t=r-e,n=r+o)),1<t&&(e=this.createPageButton(1,r,d),a.appendChild(e),2<t)&&((o=document.createElement("span")).textContent="...",o.style.padding="0 8px",a.appendChild(o));for(let e=t;e<=n;e++){var l=this.createPageButton(e,r,d);a.appendChild(l)}n<i&&(n<i-1&&((e=document.createElement("span")).textContent="...",e.style.padding="0 8px",a.appendChild(e)),o=this.createPageButton(i,r,d),a.appendChild(o)),c.appendChild(a)}s.showPrevNext&&((e=document.createElement("button")).className="lucen-btn lucen-btn-icon",e.innerHTML='<i class="bi bi-chevron-right"></i>',e.disabled=r===i,e.addEventListener("click",()=>{r<i&&d(r+1)}),c.appendChild(e))};d(1)},createPageButton:function(e,t,n){var a=document.createElement("button");return a.className="page-btn "+(e===t?"active":""),a.textContent=e,a.addEventListener("click",()=>n(e)),a},setupEventListeners:function(){var e,t,n=document.getElementById("theme-toggle-btn"),n=(n&&(n.addEventListener("click",()=>{var e="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";this.setTheme(e),this.updateThemeButton(e)}),n=localStorage.getItem("lucen-theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),this.updateThemeButton(n)),document.getElementById("theme-toggle"));n&&(n.addEventListener("change",e=>{this.setTheme(e.target.checked?"dark":"light")}),e=localStorage.getItem("lucen-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,n.checked="dark"===e||!e&&t),this.handleResponsive(),window.addEventListener("resize",()=>this.handleResponsive())},updateThemeButton:function(e){var t,n=document.getElementById("theme-toggle-btn");n&&(t=n.querySelector(".theme-icon"),n=n.querySelector(".theme-text"),"dark"===e?(t.classList.replace("bi-moon-fill","bi-sun-fill"),n.textContent="Modo día"):(t.classList.replace("bi-sun-fill","bi-moon-fill"),n.textContent="Modo noche"))},handleResponsive:function(){var e=document.querySelector(".lucen-main"),t=(e,t,n)=>{e&&e.classList.toggle(t,n)},n=window.innerWidth<=992,a=window.innerWidth<=768;t(document.getElementById("widgetbar"),"collapsed",n),t(e,"widgetbar-collapsed",n),t(document.getElementById("sidebar"),"collapsed",a),t(e,"sidebar-collapsed",a)},applySavedTheme:function(){var e=localStorage.getItem("lucen-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;let n="light";e?n=e:t&&(n="dark"),this.setTheme(n,!e)},watchSystemPreference:function(){window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",e=>{localStorage.getItem("lucen-theme")||this.setTheme(e.matches?"dark":"light")})},setTheme:function(e,t=!1){document.documentElement.setAttribute("data-theme",e),t||localStorage.setItem("lucen-theme",e),this.updateActiveButton(e)},useSystemPreference:function(){localStorage.removeItem("lucen-theme");var e=window.matchMedia("(prefers-color-scheme: dark)").matches;this.setTheme(e?"dark":"light",!0)},updateActiveButton:function(e){document.querySelectorAll(".theme-btn").forEach(e=>{e.classList.remove("active")});e=document.querySelector(`.theme-btn[data-theme="${e}"]`);e&&e.classList.add("active")},initSliders:function(){document.querySelectorAll(".lucen-hero-slider").forEach(e=>{this.setupSlider(e)})},setupSlider:function(e){let t=e.querySelectorAll(".lucen-hero-slide"),n=e.querySelectorAll(".dot"),a=e.querySelector(".slider-prev"),o=e.querySelector(".slider-next"),l={autoplay:"false"!==e.dataset.autoplay,interval:parseInt(e.dataset.interval)||5e3,transitionSpeed:parseInt(e.dataset.transitionSpeed)||300,loop:"false"!==e.dataset.loop},s=0,i=t.length,c,r=e=>{l.loop?e=(e+i)%i:(e=e>=i?i-1:e)<0&&(e=0),t.forEach(e=>{e.style.transition=`opacity ${l.transitionSpeed}ms ease`,e.classList.remove("active")}),n.forEach(e=>e.classList.remove("active")),t[e].classList.add("active"),n[e]?.classList.add("active"),s=e,l.loop||(a&&(a.disabled=0===s),o&&(o.disabled=s===i-1))},d=()=>{r(s+1)},u=()=>{l.autoplay&&1<i&&(m(),c=setInterval(d,l.interval))},m=()=>{c&&clearInterval(c)};o&&o.addEventListener("click",()=>{d(),l.autoplay&&u()}),a&&a.addEventListener("click",()=>{r(s-1),l.autoplay&&u()}),n.forEach((e,t)=>{e.addEventListener("click",()=>{r(t),l.autoplay&&u()})}),e.addEventListener("mouseenter",m),e.addEventListener("mouseleave",u),document.addEventListener("visibilitychange",()=>{(document.hidden?m:u)()}),r(0),u()},configSlider:function(e,t){var n=document.querySelector(e);n?(void 0!==t.autoplay&&(n.dataset.autoplay=t.autoplay),t.interval&&(n.dataset.interval=t.interval),t.transitionSpeed&&(n.dataset.transitionSpeed=t.transitionSpeed),void 0!==t.loop&&(n.dataset.loop=t.loop),this.setupSlider(n)):console.warn("Slider no encontrado: "+e)}}})();function styeCode(){document.querySelectorAll(".lucen-code-block code").forEach(e=>{var t=formatCode(e.getAttribute("data-code")),t=hljs.highlightAuto(t).value;e.innerHTML=t})}function formatCode(e){if(!e)return"";e=e.split("\n");let t=1/0;return e.forEach(e=>{0!==e.trim().length&&(e=e.match(/^\s*/)[0].length)<t&&(t=e)}),e.map(e=>e.slice(t)).join("\n")}document.addEventListener("DOMContentLoaded",function(){lucenUI.init(),document.querySelectorAll(".lucen-checkbox-touch input").forEach(e=>{e.addEventListener("change",function(){this.checked?this.parentNode.classList.add("checked"):this.parentNode.classList.remove("checked")})})}),window.lucenUI=lucenUI;